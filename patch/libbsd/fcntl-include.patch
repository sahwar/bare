--- a/src/flopen.c
+++ b/src/flopen.c
@@ -35,6 +35,7 @@
 #include <stdarg.h>
 #include <unistd.h>
 #include <libutil.h>
+#include <fcntl.h>
 
 int
 flopen(const char *path, int flags, ...)
--- a/src/nlist.c
+++ b/src/nlist.c
@@ -43,6 +43,7 @@
 #include <stdio.h>
 #include <string.h>
 #include <unistd.h>
+#include <fcntl.h>
 
 #if !defined(__NO_A_OUT_SUPPORT)
 #define _NLIST_DO_AOUT
